# DnD — Персонажи и сессии

Сайт на React с авторизацией: карточки персонажей DnD (видны только своему пользователю) и блоки сюжетов прошедших игр. Админ может добавлять/удалять пользователей, создавать карточки персонажей для игроков и записи о сессиях.

## Запуск

### 1. Установка зависимостей

В корне `dnd-site` и в `dnd-site/server` выполните:

```bash
cd dnd-site
npm install

cd server
npm install
```

Если npm выдаёт ошибку про `only-if-cached`, выполните в своей системе:  
`npm config set cache default` (или отключите офлайн-режим) и повторите `npm install`.

### 2. Фоновое изображение для входа

Скопируйте `img2.jpg` из папки `C:\Users\biv\Desktop\css html` в `dnd-site/public/img2.jpg` (если ещё не скопировано). Иначе будет тёмный фон.

### 3. Запуск сервера и фронтенда

В одном терминале:
```bash
cd dnd-site/server
node index.js
```

В другом:
```bash
cd dnd-site
npm run dev
```

Сайт: http://localhost:3000  

API: http://localhost:3001

### Вход по умолчанию

- **Логин:** `admin`
- **Пароль:** `admin`

Обычные пользователи создаются в админ-панели; пароли хранятся в виде хэшей.

## Возможности

- **Авторизация** — форма входа в стиле эталона (стеклянный блок, размытие, иконки).
- **Пользователи** — админ добавляет и удаляет пользователей.
- **Карточки персонажей** (по формату как в docx «Олдвин Свинорез»): имя, портрет (загрузка картинки), биография, оружие, класс брони, ХП, инициатива, основные характеристики (модификаторы: Сила, Ловкость, Выносливость, Интеллект, Мудрость, Харизма), пассивные умения, активные способности (с указанием числа использований). Админ создаёт карточку и указывает пользователя; игрок видит только своих персонажей. Уровень персонажа не используется.
- **Сюжеты игр** — админ добавляет блок после каждой сессии (заголовок, дата, описание, **участники** — выбранные персонажи). В блоке отображается список участников. Все авторизованные видят эти блоки.

Портреты сохраняются в `server/uploads/characters/`. Данные — в `server/data/db.json`.

---

## Выложить в интернет (доступ для друзей)

Инструкция по деплою на Render.com: **[DEPLOY.md](DEPLOY.md)**. Один адрес для сайта и API, бесплатный тариф.
